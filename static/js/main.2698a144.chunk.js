(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{208:function(e,t,n){e.exports=n(425)},329:function(e,t,n){},410:function(e,t,n){},411:function(e,t,n){},412:function(e,t,n){},413:function(e,t,n){},423:function(e,t,n){},425:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(43),o=n.n(a),s=n(38),l=n(9),c=n(8),u=n(19),h=n(18),d=n(20),p=function(){function e(){Object(l.a)(this,e),this.functions=void 0,this.functions=new Array}return Object(c.a)(e,[{key:"findFunction",value:function(e){for(var t=0,n=0,i=this.functions.length-1;n+1<i;)if(t=(n+i)/2,e<this.getStartX(t))i=t-1;else{if(!(e>this.getEndX(t)))return t;n=t+1}for(var r=n;r<=i;r++)if(e>=this.functions[r][1]&&e<=this.getEndX(r))return r;return-1}},{key:"getStartX",value:function(e){return this.functions[e][1]}},{key:"setStartX",value:function(e,t){e>0&&(this.functions[e][1]=t)}},{key:"getEndX",value:function(e){return e+1<this.functions.length?this.functions[e+1][1]:1}},{key:"setEndX",value:function(e,t){e+1<this.functions.length&&(this.functions[e+1][1]=t)}},{key:"getFunction",value:function(e){return this.functions[e][0]}},{key:"setFunction",value:function(e,t){this.functions[e][0]=t}},{key:"numOfFunctions",get:function(){return this.functions.length}}]),e}(),m=function(){function e(t,n,i,r){Object(l.a)(this,e),this.p=void 0,this.p=[t,n,i,r]}return Object(c.a)(e,[{key:"genValue",value:function(e){var t=e*e,n=e*e*e,i=1-e,r=i*i,a=r*i;return this.p[0]*a+this.p[1]*r*e*3+this.p[2]*i*t*3+this.p[3]*n}},{key:"derive",value:function(e){for(var t=[],n=e,i=n.length,r=i-1;i>1;i--,r--){for(var a,o=[],s=0;s<r;s++)a=r*(n[s+1]-n[s]),o.push(a);t.push(o),n=o}return t}},{key:"derivative",value:function(e){var t=this.derive(this.p)[0],n=1-e,i=n*n,r=n*e*2,a=e*e;return i*t[0]+r*t[1]+a*t[2]}},{key:"controlCurve",value:function(e,t){this.p[1]=e/3+this.p[0],this.p[2]=this.p[3]-t/3}},{key:"hull",value:function(e){var t,n=this.p,i=[],r=[],a=0,o=0,s=0;for(r[a++]=n[0],r[a++]=n[1],r[a++]=n[2],r[a++]=n[3];n.length>1;){for(i=[],o=0,s=n.length-1;o<s;o++)t=e*n[o]+(1-e)*n[o+1],r[a++]=t,i.push(t);n=i}return r}},{key:"split",value:function(t){var n=this.hull(t);return{left:new e(n[0],n[4],n[7],n[9]),right:new e(n[9],n[8],n[6],n[3]),span:n}}},{key:"clone",value:function(){return new e(this.p[0],this.p[1],this.p[2],this.p[3])}},{key:"toJSON",value:function(){return{p0:this.p[0],p1:this.p[1],p2:this.p[2],p3:this.p[3]}}}]),e}(),f=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[new m(0,1/3,1/3*2,1),0]];return Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).type=void 0,e.type="function",e.functions=n,e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"genValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.findFunction(e);return-1===t?(console.error(e),0):this.functions[t][0].genValue((e-this.getStartX(t))/(this.getEndX(t)-this.getStartX(t)))}},{key:"toSVG",value:function(e,t){if(t<1)return"";for(var n=["M",0,this.functions[0][0].p[0]].join(" "),i=1/t;i<=1;i+=1/t)n=[n,"L",i*e,this.genValue(i)].join(" ");return n}},{key:"toJSON",value:function(){return{type:"piecewiseBezier",beziers:this.functions.map(function(e){var t=Object(s.a)(e,2),n=t[0],i=t[1];return{function:n.toJSON(),start:i}})}}}]),t}(p),v=n(434),g=n(198),y=n(431),b=n(433),w=n(60),E=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.createElement(v.a,{inverted:!0,size:"tiny"},i.createElement(v.a.Item,{as:"a",header:!0},i.createElement(g.a,{size:"mini",src:"/logo.png",style:{marginRight:"1.5em"}}),"Three.Quarks"),i.createElement(y.a,{item:!0,simple:!0,text:"File"},i.createElement(y.a.Menu,null,i.createElement(y.a.Item,{text:"New"}),i.createElement(y.a.Item,{text:"Open...",description:"ctrl + o"}),i.createElement(y.a.Item,{text:"Save as...",description:"ctrl + s",onClick:this.props.onSaveAs}),i.createElement(y.a.Item,{text:"Rename",description:"ctrl + r"}),i.createElement(y.a.Item,{text:"Make a copy"}),i.createElement(y.a.Item,{icon:"folder",text:"Move to folder"}),i.createElement(y.a.Item,{icon:"trash",text:"Move to trash"}),i.createElement(y.a.Divider,null),i.createElement(y.a.Item,{text:"Download As..."}),i.createElement(y.a.Item,{text:"Publish To Web"}),i.createElement(y.a.Item,{text:"E-mail Collaborators"}))),i.createElement(y.a,{item:!0,simple:!0,text:"Edit"},i.createElement(y.a.Menu,null,i.createElement(y.a.Item,null,i.createElement(b.a,{placeholder:"Search..."})),i.createElement(y.a,{item:!0,simple:!0,text:"Home"},i.createElement(y.a.Menu,null,i.createElement(y.a.Item,{name:"search"},"Search"),i.createElement(y.a.Item,{name:"add"},"Add"),i.createElement(y.a.Item,{name:"about"},"Remove"))),i.createElement(y.a.Item,{name:"browse"},i.createElement(w.a,{name:"grid layout"}),"Browse"),i.createElement(y.a.Item,{name:"messages"},"Messages"),i.createElement(y.a,{item:!0,simple:!0,text:"More"},i.createElement(y.a.Menu,null,i.createElement(y.a.Item,{icon:"edit",text:"Edit Profile"}),i.createElement(y.a.Item,{icon:"globe",text:"Choose Language"}),i.createElement(y.a.Item,{icon:"settings",text:"Account Settings"}))))),i.createElement(y.a,{item:!0,simple:!0,text:"Tools"},i.createElement(y.a.Menu,null,i.createElement(y.a.Item,null,"List Item"),i.createElement(y.a.Item,null,"List Item"),i.createElement(y.a.Divider,null),i.createElement(y.a.Header,null,"Header Item"),i.createElement(y.a,{item:!0,simple:!0,text:"Dropdown"},i.createElement(y.a.Menu,null,i.createElement(y.a.Item,null,"List Item"),i.createElement(y.a.Item,null,"List Item"))),i.createElement(y.a.Item,null,"List Item"))),i.createElement(v.a.Item,{as:"a"},"About"))}}]),t}(i.PureComponent),C=n(195),O=n.n(C),S={isWebGLAvailable:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}},isWebGL2Available:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(t){return!1}},getWebGLErrorMessage:function(){return this.getErrorMessage(1)},getWebGL2ErrorMessage:function(){return this.getErrorMessage(2)},getErrorMessage:function(e){var t={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},n='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>',i=document.createElement("div");return i.id="webglmessage",i.style.fontFamily="monospace",i.style.fontSize="13px",i.style.fontWeight="normal",i.style.textAlign="center",i.style.background="#fff",i.style.color="#000",i.style.padding="1.5em",i.style.width="400px",i.style.margin="5em auto 0",n=(n=t[e]?n.replace("$0","graphics card"):n.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[e]),i.innerHTML=n,i}},j=n(3),x=n(196),k="\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvarying vec4 vColor;\n\nvoid main() {\n\n    #include <clipping_planes_fragment>\n    \n    vec3 outgoingLight = vec3( 0.0 );\n    vec4 diffuseColor = vColor;\n    \n    #include <logdepthbuf_fragment>\n    \n    #ifdef USE_MAP\n    vec4 texelColor = texture2D( map, vUv);\n    diffuseColor *= texelColor;\n    #endif\n\n    outgoingLight = diffuseColor.rgb;\n\n    gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n    \n    #include <tonemapping_fragment>\n\n}\n",P="\n\n#include <uv_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nattribute vec3 offset;\nattribute float rotation;\nattribute float size;\nattribute vec4 color;\nattribute float uvTile;\n\nvarying vec4 vColor;\n\n#ifdef UV_TILE\nuniform vec2 tileCount;\n#endif\n\nvoid main() {\n\n    #ifdef UV_TILE\n        vUv = vec2((mod(uvTile, tileCount.y) + uv.x) * (1.0 / tileCount.x), ((tileCount.y - floor(uvTile / tileCount.y) - 1.0) + uv.y) * (1.0 / tileCount.y));\n    #else\n        #include <uv_vertex>\n    #endif\n\t\n\t#ifdef WORLD_SPACE\n\t    vec4 mvPosition = viewMatrix * vec4( offset, 1.0 );\n\t#else\n\t    vec4 mvPosition = modelViewMatrix * vec4( offset, 1.0 );\n\t#endif\n\t\n    vec2 alignedPosition = ( position.xy ) * size;\n    \n    vec2 rotatedPosition;\n    rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n    rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n    \n    mvPosition.xy += rotatedPosition;\n\n\tvColor = color;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n}\n",T=function(e){function t(e,n){var i;Object(l.a)(this,t),(i=Object(u.a)(this,Object(h.a)(t).call(this))).system=void 0,i.geometry=void 0,i.material=void 0,i.rotationBuffer=void 0,i.sizeBuffer=void 0,i.colorBuffer=void 0,i.offsetBuffer=void 0,i.tiling=void 0,i.uvTileBuffer=void 0,i.system=e,i.geometry=new j.j;var r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a={},o={},s=new j.k(r,5);if(i.geometry.setIndex([0,1,2,0,2,3]),i.geometry.addAttribute("position",new j.l(s,3,0,!1)),i.geometry.addAttribute("uv",new j.l(s,2,3,!1)),i.offsetBuffer=new j.i(new Float32Array(3*e.maxParticle),3),i.offsetBuffer.setDynamic(!0),i.geometry.addAttribute("offset",i.offsetBuffer),i.colorBuffer=new j.i(new Float32Array(4*e.maxParticle),4),i.colorBuffer.setDynamic(!0),i.geometry.addAttribute("color",i.colorBuffer),i.rotationBuffer=new j.i(new Float32Array(e.maxParticle),1),i.rotationBuffer.setDynamic(!0),i.geometry.addAttribute("rotation",i.rotationBuffer),i.sizeBuffer=new j.i(new Float32Array(e.maxParticle),1),i.sizeBuffer.setDynamic(!0),i.geometry.addAttribute("size",i.sizeBuffer),i.tiling=!1,n.texture){o.USE_MAP="",a.map=new j.B(n.texture),a.uvTransform=new j.B((new j.o).copy(n.texture.matrix));var c=n.uTileCount||1,d=n.vTileCount||1;i.tiling=c>1||d>1,i.system.tileCount=c*d,i.tiling&&(i.uvTileBuffer=new j.i(new Float32Array(e.maxParticle),1),i.uvTileBuffer.setDynamic(!0),i.geometry.addAttribute("uvTile",i.uvTileBuffer),o.UV_TILE="",a.tileCount=new j.B(new j.C(c,d)))}return(void 0===n.worldSpace||n.worldSpace)&&(o.WORLD_SPACE=""),i.material=new j.w({uniforms:a,defines:o,vertexShader:P,fragmentShader:k,transparent:!0,depthWrite:!1,blending:n.blending||j.a}),i.frustumCulled=!1,i}return Object(d.a)(t,e),Object(c.a)(t,[{key:"update",value:function(){var e=this.system.particles,t=this.system.particleNum;this.geometry.maxInstancedCount=t;for(var n=0;n<t;n++){var i=e[n];this.offsetBuffer.setXYZ(n,i.position.x,i.position.y,i.position.z),this.colorBuffer.setXYZW(n,i.color.x,i.color.y,i.color.z,i.color.w),this.rotationBuffer.setX(n,i.rotation),this.sizeBuffer.setX(n,i.size),this.tiling&&this.uvTileBuffer.setX(n,i.uvTile)}t>0&&(this.offsetBuffer.updateRange.count=3*t,this.offsetBuffer.needsUpdate=!0,this.colorBuffer.updateRange.count=4*t,this.colorBuffer.needsUpdate=!0,this.rotationBuffer.updateRange.count=t,this.rotationBuffer.needsUpdate=!0,this.sizeBuffer.updateRange.count=t,this.sizeBuffer.needsUpdate=!0,this.tiling&&(this.uvTileBuffer.updateRange.count=t,this.uvTileBuffer.needsUpdate=!0))}},{key:"toJSON",value:function(e){var t={},n={};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==j.A&&(n.drawMode=this.drawMode),n.ps=this.system.toJSON(),this.children.length>0){n.children=[];for(var i=0;i<this.children.length;i++)n.children.push(this.children[i].toJSON(e).object)}return t.object=n,t}}]),t}(j.p),B=function e(){Object(l.a)(this,e),this.startSpeed=0,this.startColor=new j.E,this.startSize=1,this.velocity=new j.D,this.age=0,this.life=1,this.angularVelocity=void 0,this.position=new j.D,this.rotation=0,this.size=1,this.color=new j.E,this.uvTile=0},M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.radius=void 0,this.arc=void 0,this.thickness=void 0,this.radius=t.radius||10,this.arc=t.arc||2*Math.PI,this.thickness=t.thickness||1}return Object(c.a)(e,[{key:"initialize",value:function(e){var t=Math.random(),n=Math.random(),i=j.n.lerp(1-this.thickness,1,Math.random()),r=t*this.arc,a=Math.acos(2*n-1),o=Math.cbrt(i),s=Math.sin(r),l=Math.cos(r),c=Math.sin(a),u=Math.cos(a);e.position.x=o*c*l,e.position.y=o*c*s,e.position.z=o*u,e.velocity.setScalar(0).addScaledVector(e.position,e.startSpeed),e.position.multiplyScalar(this.radius)}},{key:"toJSON",value:function(){return{type:"sphere",radius:this.radius,arc:this.arc,thickness:this.thickness}}}]),e}(),z=function(e){return{r:e.x,g:e.y,b:e.z,a:e.w}},I=function(){function e(t){Object(l.a)(this,e),this.color=t,this.type=void 0,this.type="value"}return Object(c.a)(e,[{key:"genColor",value:function(e){return e.copy(this.color)}},{key:"toJSON",value:function(){return{type:"constantColor",color:z(this.color)}}}]),e}(),N=function(){function e(t){Object(l.a)(this,e),this.value=t,this.type=void 0,this.type="value"}return Object(c.a)(e,[{key:"genValue",value:function(){return this.value}},{key:"toJSON",value:function(){return{type:"constantValue",value:this.value}}}]),e}(),R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.looping=void 0,this.duration=void 0,this.maxParticle=void 0,this.startLife=void 0,this.startSpeed=void 0,this.startRotation=void 0,this.startSize=void 0,this.startColor=void 0,this.startTileIndex=void 0,this.emissionOverTime=void 0,this.emissionOverDistance=void 0,this.tileCount=1,this.worldSpace=void 0,this.particleNum=void 0,this.time=void 0,this.waitEmiting=void 0,this.behaviors=void 0,this.particles=void 0,this.emitterShape=void 0,this.emitter=void 0,this.normalMatrix=new j.o,this.duration=t.duration||1,this.maxParticle=t.maxParticle||100,this.looping=void 0===t.looping||t.looping,this.startLife=t.startLife||new N(5),this.startSpeed=t.startSpeed||new N(0),this.startRotation=t.startRotation||new N(0),this.startSize=t.startSize||new N(1),this.startColor=t.startColor||new I(new j.E(1,1,1,1)),this.emissionOverTime=t.emissionOverTime||new N(10),this.emissionOverDistance=t.emissionOverDistance||new N(0),this.emitterShape=t.shape||new M,void 0===t.worldSpace&&(t.worldSpace=!0),this.worldSpace=t.worldSpace,this.behaviors=new Array,this.particles=new Array,this.startTileIndex=t.startTileIndex||0,this.emitter=new T(this,t),this.particleNum=0,this.time=0,this.waitEmiting=0}return Object(c.a)(e,[{key:"texture",get:function(){return this.emitter.material.uniforms.map.value},set:function(e){this.emitter.material.uniforms.map.value=e}},{key:"uTileCount",get:function(){return this.emitter.material.uniforms.tileCount.value.x},set:function(e){this.emitter.material.uniforms.tileCount.value.x=e}},{key:"vTileCount",get:function(){return this.emitter.material.uniforms.tileCount.value.y},set:function(e){this.emitter.material.uniforms.tileCount.value.y=e}},{key:"blending",get:function(){return this.emitter.material.blending},set:function(e){this.emitter.material.blending=e}}]),Object(c.a)(e,[{key:"end",value:function(){}},{key:"spawn",value:function(){for(;this.particleNum>=this.particles.length;)this.particles.push(new B);this.particleNum++;var e=this.particles[this.particleNum-1];this.startColor.genColor(e.startColor,this.time),e.color.copy(e.startColor),e.startSpeed=this.startSpeed.genValue(this.time),e.life=this.startLife.genValue(this.time),e.age=0,e.rotation=this.startRotation.genValue(this.time),e.startSize=e.size=this.startSize.genValue(this.time),e.uvTile=this.startTileIndex,this.emitterShape.initialize(e),this.worldSpace&&(e.position.applyMatrix4(this.emitter.matrixWorld),e.velocity.applyMatrix3(this.normalMatrix));for(var t=0;t<this.behaviors.length;t++)this.behaviors[t].initialize(e)}},{key:"update",value:function(e){if(e>.1&&(e=.1),this.time>this.duration){if(!this.looping)return void this.end();this.time-=this.duration}this.normalMatrix.getNormalMatrix(this.emitter.matrixWorld);for(var t=0;t<this.particleNum;t++){var n=this.particles[t];n.age>=n.life&&(this.particles[t]=this.particles[this.particleNum-1],this.particles[this.particleNum-1]=n,this.particleNum--,t--)}for(;this.waitEmiting>0&&this.particleNum<this.maxParticle;)this.spawn(),this.waitEmiting--;for(var i=0;i<this.particleNum;i++){for(var r=this.particles[i],a=0;a<this.behaviors.length;a++)this.behaviors[a].update(r,e);r.position.addScaledVector(r.velocity,e),r.age+=e}this.emitter.update(),this.waitEmiting+=e*this.emissionOverTime.genValue(this.time),this.time+=e}},{key:"toJSON",value:function(){return{looping:this.looping,duration:this.duration,maxParticle:this.maxParticle,shape:this.emitterShape.toJSON(),startLife:this.startLife.toJSON(),startSpeed:this.startSpeed.toJSON(),startRotation:this.startRotation.toJSON(),startSize:this.startSize.toJSON(),startColor:this.startColor.toJSON(),emissionOverTime:this.emissionOverTime.toJSON(),emissionOverDistance:this.emissionOverDistance.toJSON(),texture:this.texture.name,startTileIndex:this.startTileIndex,uTileCount:this.uTileCount,vTileCount:this.vTileCount,blending:this.blending,behaviors:this.behaviors.map(function(e){return e.toJSON()}),worldSpace:this.worldSpace}}},{key:"addBehavior",value:function(e){this.behaviors.push(e)}}]),e}(),L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this.radius=void 0,this.arc=void 0,this.thickness=void 0,this.angle=void 0,this.radius=t.radius||10,this.arc=t.arc||2*Math.PI,this.thickness=t.thickness||1,this.angle=t.angle||Math.PI/6}return Object(c.a)(e,[{key:"initialize",value:function(e){var t=Math.random(),n=j.n.lerp(1-this.thickness,1,Math.random()),i=t*this.arc,r=Math.sqrt(n),a=Math.sin(i),o=Math.cos(i);e.position.x=r*o,e.position.y=r*a,e.position.z=0;var s=this.angle*r;e.velocity.set(0,0,Math.cos(s)).addScaledVector(e.position,Math.sin(s)).multiplyScalar(e.startSpeed),e.position.multiplyScalar(this.radius)}},{key:"toJSON",value:function(){return{type:"sphere",radius:this.radius,arc:this.arc,thickness:this.thickness,angle:this.angle}}}]),e}(),V=function(){function e(t,n){Object(l.a)(this,e),this.a=t,this.b=n,this.type=void 0,this.type="value"}return Object(c.a)(e,[{key:"genValue",value:function(){return j.n.lerp(this.a,this.b,Math.random())}},{key:"toJSON",value:function(){return{type:"intervalValue",a:this.a,b:this.b}}}]),e}(),A=function(){function e(t){Object(l.a)(this,e),this.func=t}return Object(c.a)(e,[{key:"initialize",value:function(e){}}]),Object(c.a)(e,[{key:"update",value:function(e){e.size=e.startSize*this.func.genValue(e.age/e.life)}},{key:"toJSON",value:function(){return{type:"SizeOverLife",func:this.func.toJSON()}}}]),e}(),_=function(){function e(t,n){Object(l.a)(this,e),this.a=t,this.b=n,this.type=void 0,this.type="function"}return Object(c.a)(e,[{key:"genColor",value:function(e,t){return e.copy(this.a).lerp(this.b,t)}},{key:"toJSON",value:function(){return{type:"colorRange",a:z(this.a),b:z(this.b)}}}]),e}(),F=function(){function e(t){Object(l.a)(this,e),this.angularVelocityFunc=t}return Object(c.a)(e,[{key:"initialize",value:function(e){"value"===this.angularVelocityFunc.type?e.angularVelocity=this.angularVelocityFunc.genValue():e.angularVelocity=0}},{key:"update",value:function(e,t){"value"===this.angularVelocityFunc.type?e.rotation+=t*e.angularVelocity:e.rotation+=t*this.angularVelocityFunc.genValue(e.age/e.life)}},{key:"toJSON",value:function(){return{type:"RotationOverLife",angularVelocityFunc:this.angularVelocityFunc.toJSON()}}}]),e}(),J=function(){function e(t){Object(l.a)(this,e),this.func=t}return Object(c.a)(e,[{key:"initialize",value:function(e){}},{key:"update",value:function(e,t){this.func.genColor(e.color,e.age/e.life).dot(e.startColor)}},{key:"toJSON",value:function(){return{type:"ColerOverLife",func:this.func.toJSON()}}}]),e}(),G=function(){function e(t,n){Object(l.a)(this,e),this.a=t,this.b=n,this.type=void 0,this.type="value"}return Object(c.a)(e,[{key:"genColor",value:function(e){var t=Math.random();return e.copy(this.a).lerp(this.b,t)}},{key:"toJSON",value:function(){return{type:"randomColor",a:z(this.a),b:z(this.b)}}}]),e}(),D=function(e){function t(){var e;Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).particles=void 0,e.smoke=void 0,e.glowBeam=void 0,e.mainBeam=void 0;var n=(new j.z).load("textures/texture1.png");return e.mainBeam=new R({duration:1,looping:!0,startLife:new V(.1,.15),startSpeed:new N(0),startSize:new N(1.25),startColor:new I(new j.E(1,1,1,.5)),worldSpace:!0,maxParticle:100,emissionOverTime:new N(40),shape:new M({radius:1e-4,thickness:1,arc:2*Math.PI}),texture:n,blending:j.a,startTileIndex:0,uTileCount:10,vTileCount:10}),e.mainBeam.addBehavior(new A(new f([[new m(1,.25,.05,0),0]]))),e.mainBeam.emitter.renderOrder=2,e.mainBeam.emitter.name="mainBeam",e.add(e.mainBeam.emitter),e.glowBeam=new R({duration:1,looping:!0,startLife:new V(.1,.15),startSpeed:new N(0),startSize:new N(3.5),startColor:new I(new j.E(1,.1509503,.07352942,.5)),worldSpace:!0,maxParticle:100,emissionOverTime:new N(40),shape:new M({radius:1e-4,thickness:1,arc:2*Math.PI}),texture:n,blending:j.a,startTileIndex:1,uTileCount:10,vTileCount:10}),e.glowBeam.addBehavior(new A(new f([[new m(1,.95,.75,0),0]]))),e.glowBeam.emitter.renderOrder=2,e.glowBeam.emitter.name="glowBeam",e.add(e.glowBeam.emitter),e.particles=new R({duration:1,looping:!0,startLife:new V(.3,.6),startSpeed:new V(2,5),startSize:new V(.1,.4),startColor:new G(new j.E(1,1,1,.5),new j.E(1,.1509503,.07352942,.5)),worldSpace:!0,maxParticle:100,emissionOverTime:new N(60),shape:new L({angle:4.8423/180*Math.PI,radius:.3,thickness:1,arc:2*Math.PI}),texture:n,blending:j.r,startTileIndex:0,uTileCount:10,vTileCount:10}),e.particles.addBehavior(new A(new f([[new m(1,.25,.05,0),0]]))),e.particles.emitter.renderOrder=2,e.particles.emitter.rotateY(-Math.PI/2),e.particles.emitter.name="particles",e.add(e.particles.emitter),e.smoke=new R({startLife:new V(.25,.3),startSpeed:new N(0),startSize:new V(.75,1.25),startRotation:new V(0,2*Math.PI),startColor:new I(new j.E(1,1,1,.5)),worldSpace:!0,maxParticle:100,emissionOverTime:new N(20),shape:new M({radius:.2,thickness:1}),texture:n,blending:j.r,startTileIndex:2,uTileCount:10,vTileCount:10}),e.smoke.addBehavior(new A(new f([[new m(1,.95,.75,0),0]]))),e.smoke.addBehavior(new J(new _(new j.E(1,.1509503,.07352942,1),new j.E(0,0,0,0)))),e.smoke.addBehavior(new F(new V(2*-Math.PI,2*Math.PI))),e.smoke.emitter.renderOrder=-2,e.smoke.emitter.name="smoke",e.add(e.smoke.emitter),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"update",value:function(e){this.mainBeam.update(e),this.glowBeam.update(e),this.particles.update(e),this.smoke.update(e)}}]),t}(j.h),W=i.createContext(null),U=W.Consumer,X=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).toonProjectile=void 0,n.removeObject3d=function(e){e.parent&&e.parent.remove(e)},n.addObject3d=function(e,t){var i;switch(e){case"particle":var r=(new j.z).load("textures/texture1.png");i=new R({maxParticle:1e4,shape:new L,emissionOverTime:new N(100),startLife:new N(30),startSpeed:new N(10),startSize:new N(1),startColor:new I(new j.E(1,1,1,1)),texture:r,blending:j.a,startTileIndex:0,uTileCount:10,vTileCount:10,worldSpace:!0}).emitter,n.state.scene.add(i);break;case"box":i=new j.p(new j.d(10,10,10),new j.q({color:13421772})),n.state.scene.add(i)}i&&(t.add(i),n.state.actions.select(i),n.setState({}))},n.update=0,n.animate=function(e){n.toonProjectile.position.x+=30*e,n.toonProjectile.position.x>20&&(n.toonProjectile.position.x=-20),n.update+=e,n.update>.1&&(n.state.actions.updateProperties(),n.update=0)};var i=new j.v;i.background=new j.f(6710886),n.toonProjectile=new D,n.toonProjectile.name="Toon Projectile",i.add(n.toonProjectile);var r=new j.c(100);r.name="axisHelper",i.add(r);var a=new j.t(new j.f(1,1,1),.8,200);a.position.set(50,50,50),i.add(a);var o=new j.b(new j.f(1,1,1),.2);i.add(o);var s={scene:i,script:n.animate,selection:[],actions:{onSaveAs:function(){var e=document.createElement("a"),t=new Blob([JSON.stringify(s.scene.toJSON())],{type:"application/json"});e.href=URL.createObjectURL(t),e.download="scene.json",e.click()},select:function(e){n.setState({selection:[e]})},selectAddition:function(e){-1===s.selection.indexOf(e)&&(s.selection.push(e),n.setState({selection:s.selection}))},addObject3d:n.addObject3d,removeObject3d:n.removeObject3d,duplicateObject3d:function(){},updateParticleSystem:function(){},updateProperties:function(){n.setState({scene:i})}}};return n.state=s,n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.createElement(W.Provider,{value:this.state},this.props.children)}}]),t}(i.Component),H=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).container=void 0,n.stats=void 0,n.camera=void 0,n.renderer=void 0,n.clock=void 0,n.controls=void 0,n.appContext=void 0,n.onReize=function(e){if(n.renderer.domElement.parentElement.clientWidth-10!=n.renderer.domElement.width||n.renderer.domElement.parentElement.clientHeight-10!=n.renderer.domElement.height){var t=n.renderer.domElement.parentElement.clientWidth-10,i=n.renderer.domElement.parentElement.clientHeight-10;n.camera.aspect=t/i,n.camera.updateProjectionMatrix(),n.renderer.domElement.style.width="100%",n.renderer.domElement.style.height="100%",n.renderer.setSize(t,i)}},n.animate=function(){requestAnimationFrame(n.animate),n.onReize(null),n.renderScene(),n.stats.update()},n.container=i.createRef(),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.init()&&this.animate()}},{key:"componentDidUpdate",value:function(e,t,n){this.camera.aspect=this.props.width/this.props.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.props.width,this.props.height)}},{key:"init",value:function(){if(!this.container.current)return!1;if(!1===S.isWebGLAvailable())return document.body.appendChild(S.getWebGLErrorMessage()),!1;if(this.renderer=new j.F,null===this.renderer.extensions.get("ANGLE_instanced_arrays"))return document.getElementById("notSupported").style.display="",!1;var e=this.props.width,t=this.props.height;return this.clock=new j.e,this.camera=new j.s(50,e/t,1,1e3),this.camera.position.set(50,50,50),this.controls=new x.a(this.camera,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.dampingFactor=.1,this.controls.rotateSpeed=.2,this.controls.update(),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,t),this.container.current.appendChild(this.renderer.domElement),this.stats=new O.a,this.stats.dom.style.position="absolute",this.stats.dom.style.left="",this.stats.dom.style.right="0",this.container.current.appendChild(this.stats.dom),this.onReize(null),!0}},{key:"renderScene",value:function(){if(this.appContext){this.controls.update();var e=this.clock.getDelta();this.appContext.script(e),this.appContext.scene.traverse(function(t){t instanceof T&&t.system.update(e)}),this.renderer.render(this.appContext.scene,this.camera)}}},{key:"render",value:function(){var e=this;return console.log("rendering ThreejsViewPort"),i.createElement(U,null,function(t){if(t)return e.appContext=t,i.createElement("div",{ref:e.container,style:{width:"100%",height:"100%"}})})}}]),t}(i.PureComponent),$=n(432),Y=(n(329),function(e){var t=i.useState(e.value+""),n=Object(s.a)(t,2),r=n[0],a=n[1],o=i.useState(!1),l=Object(s.a)(o,2),c=l[0],u=l[1];return i.createElement("input",{className:"number-input",value:c?r:e.value,size:5,onChange:function(e){c&&a(e.target.value)},onBlur:function(t){var n=parseFloat(r);n!==e.value&&e.onChange(n),u(!1)},onFocus:function(t){r!==e.value+""&&a(e.value+""),u(!0)},onKeyDown:function(t){var n=parseFloat(r);n!==e.value&&e.onChange(n)}})}),q=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("rendered Vector3");var e=this.props,t=e.x,n=e.y,r=e.z,a=e.unitConversion,o=void 0===a?1:a,s=e.onChange,l=e.name;return i.createElement("div",{className:"property"},i.createElement("label",{className:"name"},l),i.createElement("label",null,"X:"),i.createElement(Y,{value:t*o,onChange:function(e){s(e/o,n,r)}}),i.createElement("label",null,"Y:"),i.createElement(Y,{value:n*o,onChange:function(e){s(t,e/o,r)}}),i.createElement("label",null,"Z:"),i.createElement(Y,{value:r*o,onChange:function(e){s(t,n,e/o)}}))}}]),t}(i.PureComponent),Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).onChangePosition=function(e,t,i){n.props.object3d.position.set(e,t,i),n.props.updateProperties()},n.onChangeScale=function(e,t,i){n.props.object3d.scale.set(e,t,i),n.props.updateProperties()},n.onChangeRotation=function(e,t,i){n.props.object3d.rotation.set(e,t,i),n.props.updateProperties()},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log("rendered objectProperties"),i.createElement("div",null,i.createElement(U,null,function(t){return t&&i.createElement(q,{name:"Position",x:e.props.object3d.position.x,y:e.props.object3d.position.y,z:e.props.object3d.position.z,onChange:e.onChangePosition})}),i.createElement(U,null,function(t){return t&&i.createElement(q,{name:"Rotation",x:e.props.object3d.rotation.x,y:e.props.object3d.rotation.y,z:e.props.object3d.rotation.z,onChange:e.onChangeRotation,unitConversion:180/Math.PI})}),i.createElement(U,null,function(t){return t&&i.createElement(q,{name:"Scale",x:e.props.object3d.scale.x,y:e.props.object3d.scale.y,z:e.props.object3d.scale.z,onChange:e.onChangeScale})}))}}]),t}(i.PureComponent),K=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[new _(new j.E(0,0,0,1),new j.E(1,1,1,1)),0]];return Object(l.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).type=void 0,e.type="function",e.functions=n,e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"genColor",value:function(e,t){var n=this.findFunction(t);return-1===n?(console.error(t),e.copy(this.functions[0][0].a)):this.getFunction(n).genColor(e,t)}},{key:"toJSON",value:function(){return{}}}]),t}(p),Q=n(197);n(410);function ee(e){return"rgba(".concat(255*e.x|0,",").concat(255*e.y|0,",").concat(255*e.z|0,",").concat(e.w,")")}var te=function(e){var t=i.useState(!1),n=Object(s.a)(t,2),r=n[0],a=n[1],o=e.color,l=e.onChange;return i.createElement("div",{className:"color-editor"},i.createElement("button",{style:{backgroundColor:ee(o),height:"20px"},onClick:function(){a(!r)}}),ee(o),r?i.createElement("div",{className:"popover"},i.createElement("div",{className:"cover",onClick:function(){a(!1)}}),i.createElement(Q.SketchPicker,{color:{r:255*o.x|0,g:255*o.y|0,b:255*o.z|0,a:o.w},onChange:function(e){var t=new j.E;t.x=Math.min(255,e.rgb.r)/255,t.y=Math.min(255,e.rgb.g)/255,t.z=Math.min(255,e.rgb.b)/255,t.w=e.rgb.a,l(t)}})):null)},ne=(n(411),{value:["constant","intervalValue"],functionValue:["piecewiseBezier"],color:["color","randomColor"],functionColor:["colorRange","gradient"]}),ie=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).changeEditor=function(e){var t=null;switch(e.target.value){case"constant":t=new N(0);break;case"color":t=new I(new j.E(1,1,1,1));break;case"intervalValue":t=new V(0,1);break;case"colorRange":t=new _(new j.E(0,0,0,1),new j.E(1,1,1,1));break;case"randomColor":t=new G(new j.E(0,0,0,1),new j.E(1,1,1,1))}t&&n.props.updateGenerator(t)},n.changeValue=function(e){n.props.updateGenerator(new N(e))},n.changeColor=function(e){n.props.updateGenerator(new I(e))},n.changeValueA=function(e){var t=n.props.generator;n.props.updateGenerator(new V(e,t.b))},n.changeValueB=function(e){var t=n.props.generator;n.props.updateGenerator(new V(t.a,e))},n.changeColorRangeA=function(e){var t=n.props.generator;n.props.updateGenerator(new _(e,t.b))},n.changeColorRangeB=function(e){var t=n.props.generator;n.props.updateGenerator(new _(t.a,e))},n.changeRandomColorA=function(e){var t=n.props.generator;n.props.updateGenerator(new G(e,t.b))},n.changeRandomColorB=function(e){var t=n.props.generator;n.props.updateGenerator(new G(t.a,e))};ne[e.allowedType[0]][0];return n.state={open:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getEditorType",value:function(e){return e instanceof N?"constant":e instanceof V?"intervalValue":e instanceof f?"piecewiseBezier":e instanceof I?"color":e instanceof G?"randomColor":e instanceof _?"colorRange":e instanceof K?"gradient":"constant"}},{key:"render",value:function(){console.log("render GeneratorEditor");var e=this.props,t=e.name,n=e.generator,r=e.allowedType,a=[],o=!0,s=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;console.log(h),console.log(ne[h]);var d=!0,p=!1,m=void 0;try{for(var f,v=ne[h][Symbol.iterator]();!(d=(f=v.next()).done);d=!0){var g=f.value;a.push(g)}}catch(w){p=!0,m=w}finally{try{d||null==v.return||v.return()}finally{if(p)throw m}}}}catch(w){s=!0,l=w}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}var y,b=this.getEditorType(n);switch(b){case"constant":y=i.createElement(i.Fragment,null,i.createElement(Y,{value:n.value,onChange:this.changeValue}));break;case"color":y=i.createElement(i.Fragment,null,i.createElement(te,{color:n.color,onChange:this.changeColor}));break;case"intervalValue":y=i.createElement(i.Fragment,null,i.createElement(Y,{value:n.a,onChange:this.changeValueA}),"-",i.createElement(Y,{value:n.b,onChange:this.changeValueB}));break;case"colorRange":y=i.createElement(i.Fragment,null,i.createElement(te,{color:n.a,onChange:this.changeColorRangeA}),"-",i.createElement(te,{color:n.b,onChange:this.changeColorRangeB}));break;case"randomColor":y=i.createElement(i.Fragment,null,i.createElement(te,{color:n.a,onChange:this.changeRandomColorA}),"-",i.createElement(te,{color:n.b,onChange:this.changeRandomColorB}))}return i.createElement("div",{className:"property"},i.createElement("label",{className:"name"},t),y,i.createElement("select",{className:"editor-select",onChange:this.changeEditor},a.map(function(e){return i.createElement("option",{key:e,value:e,selected:b===e},e)})))}}]),t}(i.PureComponent),re=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).onChangeStartSpeed=function(e){console.log("change start speed"),n.props.particleSystem.startSpeed=e,n.props.updateProperties()},n.onChangeStartLife=function(e){console.log("change start life"),n.props.particleSystem.startLife=e,n.props.updateProperties()},n.onChangeStartSize=function(e){console.log("change start size"),n.props.particleSystem.startSize=e,n.props.updateProperties()},n.onChangeStartColor=function(e){console.log("change start color"),n.props.particleSystem.startColor=e,n.props.updateProperties()},n.OnChangeStartRotation=function(e){console.log("change start rotation"),n.props.particleSystem.startRotation=e,n.props.updateProperties()},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;console.log("rendered objectProperties");var t=["value","functionValue"],n=["color","functionColor"];return i.createElement("div",null,i.createElement(U,null,function(n){return n&&i.createElement(ie,{name:"Start Life",allowedType:t,generator:e.props.particleSystem.startLife,updateGenerator:e.onChangeStartLife})}),i.createElement(U,null,function(n){return n&&i.createElement(ie,{name:"Start Size",allowedType:t,generator:e.props.particleSystem.startSize,updateGenerator:e.onChangeStartSize})}),i.createElement(U,null,function(n){return n&&i.createElement(ie,{name:"Start Speed",allowedType:t,generator:e.props.particleSystem.startSpeed,updateGenerator:e.onChangeStartSpeed})}),i.createElement(U,null,function(t){return t&&i.createElement(ie,{name:"Start Color",allowedType:n,generator:e.props.particleSystem.startColor,updateGenerator:e.onChangeStartColor})}),i.createElement(U,null,function(n){return n&&i.createElement(ie,{name:"Start Rotation",allowedType:t,generator:e.props.particleSystem.startRotation,updateGenerator:e.OnChangeStartRotation})}))}}]),t}(i.PureComponent),ae=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){e.target.files&&n.props.onChange(e.target.files)},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.createElement("div",null,i.createElement("input",{type:"file",onChange:this.handleChange}),this.props.fileName)}}]),t}(i.Component),oe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).onChangeTexture=function(e){console.log("change texture");var t=document.createElement("img"),i=new j.y(t);if(t.onload=function(){i.needsUpdate=!0},e&&e[0]){var r=new FileReader;r.onload=function(e){t.src=r.result},r.readAsDataURL(e[0])}n.props.particleSystem.texture=i,n.props.updateProperties()},n.onChangeStartTile=function(e){n.props.particleSystem.startTileIndex=e,n.props.updateProperties()},n.onChangeUTileCount=function(e){n.props.particleSystem.uTileCount=e,n.props.updateProperties()},n.onChangeVTileCount=function(e){n.props.particleSystem.vTileCount=e,n.props.updateProperties()},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return console.log("rendered particleRendererProperties"),i.createElement("div",null,"texture?: Texture; blending?: Blending; worldSpace?: boolean;",i.createElement(U,null,function(t){return t&&i.createElement("div",{className:"property"},i.createElement("label",{className:"name"},"UVTile"),i.createElement("label",null,"Column:"),i.createElement(Y,{value:e.props.particleSystem.uTileCount,onChange:e.onChangeUTileCount}),i.createElement("label",null,"Row:"),i.createElement(Y,{value:e.props.particleSystem.vTileCount,onChange:e.onChangeVTileCount}))}),i.createElement(U,null,function(t){return t&&i.createElement("div",{className:"property"},i.createElement("label",{className:"name"},"Start Tile Index"),i.createElement(Y,{value:e.props.particleSystem.startTileIndex,onChange:e.onChangeStartTile}))}),i.createElement(U,null,function(t){return t&&i.createElement("div",{className:"property"},i.createElement("label",{className:"name"},"Texture"),i.createElement(ae,{fileName:e.props.particleSystem.texture?e.props.particleSystem.texture.name:"..",onChange:e.onChangeTexture}))}))}}]),t}(i.PureComponent),se=(n(412),function(e){function t(){var e,n;Object(l.a)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:0,value:"1",valueGenerator:new N(5),colorGenerator:new I(new j.E(1,0,0,1))},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[];if(t.push({key:0,title:{icon:{name:"dropdown"},content:"Object"},content:{children:i.createElement(U,null,function(t){return t&&i.createElement(Z,{object3d:e.props.object3d,updateProperties:t.actions.updateProperties})})}}),this.props.object3d instanceof T){var n=this.props.object3d.system;t.push({key:1,title:{icon:{name:"dropdown"},content:"Particle Emitter"},content:{children:i.createElement(U,null,function(e){return e&&i.createElement(re,{particleSystem:n,updateProperties:e.actions.updateProperties})})}}),t.push({key:2,title:{icon:{name:"dropdown"},content:"Particle Renderer"},content:{children:i.createElement(U,null,function(e){return e&&i.createElement(oe,{particleSystem:n,updateProperties:e.actions.updateProperties})})}})}return i.createElement($.a,{fluid:!0,styled:!0,panels:t,exclusive:!1})}}]),t}(i.PureComponent)),le=(n(413),n(39)),ce=(n(422),function(e){var t="item";return e.selected&&(t+=" selected"),r.a.createElement(le.MenuProvider,{id:"scene-graph-menu",data:{object3d:e.object3d}},r.a.createElement("li",{className:t,onClick:e.onClick,style:{marginLeft:e.indent+"em"}},function(e){var t="object";t=e instanceof T?"ParticleSystem":e.type;var n="unnamed";return e.name&&(n=e.name),"[".concat(t,"] ").concat(n)}(e.object3d)))}),ue=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).onContextMenuClick=function(e){var t=e.event,n=e.props;return console.log(t,n)},n.onContextMenuAddParticleSystem=function(e){e.event;var t=e.props;t.object3d&&n.props.context.actions.addObject3d("particle",t.object3d)},n.onContextMenuRemove=function(e){e.event;var t=e.props;t.object3d&&n.props.context.actions.removeObject3d(t.object3d)},n.onClick=function(e,t){e.actions.select(t)},n.state={openedIndex:[0]},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return!0}}]),Object(c.a)(t,[{key:"renderObject",value:function(e,t,n,i){var a=this,o=[];o.push(r.a.createElement(ce,{key:t.uuid,onClick:function(){return a.onClick(e,t)},object3d:t,selected:-1!==e.selection.indexOf(t),indent:i})),n++;var s=!0,l=!1,c=void 0;try{for(var u,h=t.children[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value,p=this.renderObject(e,d,n,i+1);o.push(p[0]),n=p[1]}}catch(m){l=!0,c=m}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}return[o,n]}},{key:"renderScene",value:function(e,t){return r.a.createElement("ul",null," ",this.renderObject(e,t,0,0)[0]," ")}},{key:"render",value:function(){return r.a.createElement("div",null,".",this.renderScene(this.props.context,this.props.scene),r.a.createElement(le.Menu,{id:"scene-graph-menu"},r.a.createElement(le.Submenu,{label:"Add"},r.a.createElement(le.Item,{onClick:this.onContextMenuAddParticleSystem},"Particle System"),r.a.createElement(le.Item,{onClick:this.onContextMenuClick},"Ball")),r.a.createElement(le.Separator,null),r.a.createElement(le.Item,{onClick:this.onContextMenuRemove},"Remove"),r.a.createElement(le.Item,{disabled:!0},"Dolor")))}}]),t}(r.a.Component),he=(n(423),function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("render application"),i.createElement(X,null,i.createElement("div",{className:"application"},i.createElement("div",{className:"main-menu"},i.createElement(U,null,function(e){return e&&i.createElement(E,{onSaveAs:e.actions.onSaveAs})})),i.createElement("div",{className:"main"},i.createElement("div",{className:"viewport"},i.createElement(H,{width:600,height:600})),i.createElement("div",{className:"sidebar"},i.createElement(U,null,function(e){return e&&i.createElement(ue,{context:e,scene:e.scene})}),i.createElement(U,null,function(e){return e&&e.selection.length>0&&i.createElement(se,{object3d:e.selection[0]})})))))}}]),t}(i.Component)),de=(n(424),function(){var e=Object(i.useState)(new f([[new m(0,.5/3,.5/3*2,.5),0],[new m(.5,.5,.5,.5),.5]])),t=Object(s.a)(e,2);t[0],t[1];return r.a.createElement(he,null)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[208,1,2]]]);
//# sourceMappingURL=main.2698a144.chunk.js.map